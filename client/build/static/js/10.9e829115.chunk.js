(window.webpackJsonp=window.webpackJsonp||[]).push([[10,14],{143:function(e,t,a){"use strict";var n=a(142),r=a.n(n);t.a={getUserByEmail:function(e){return r.a.get("/api/user/"+e)},getUserByHandle:function(e){return r.a.get("/api/user/handle/"+e)},addUser:function(e){return r.a.post("/api/user/add",e)},getPosts:function(){return r.a.get("/api/posts")},makePost:function(e){return r.a.post("/api/posts",e)},getUsersPosts:function(e){return r.a.get("/api/posts/"+e)},removePost:function(e){return r.a.delete("/api/posts/"+e)},likePost:function(e,t){return r.a.get("/api/posts/"+e+"/"+t)},replyToPost:function(e){return r.a.post("/api/posts/reply",e)},getReplies:function(e){return r.a.get("/api/posts/reply/"+e)}}},153:function(e,t,a){"use strict";a.d(t,"a",function(){return f});var n=a(141),r=a(0),l=a.n(r),c=a(118),o=a(242),i=a(243),s=a(164),m=a.n(s),u=a(163),d=a.n(u),p=a(44),g=Object(c.a)({bar:{width:"60vw",backgroundColor:"#c8c1c199",borderRadius:5,position:"fixed",bottom:20,left:"19.5vw",paddingBottom:10,justifyContent:"center"},icon:{width:40,height:40,marginLeft:20,marginRight:20}});function f(){var e=g(),t=l.a.useState(0),a=Object(n.a)(t,2),r=a[0],c=a[1];return l.a.createElement(o.a,{value:r,onChange:function(e,t){c(t)},showlabel:"true",className:e.bar},l.a.createElement(p.b,{to:"/"},l.a.createElement(i.a,{label:"Home",icon:l.a.createElement(d.a,{className:e.icon})})),l.a.createElement(p.b,{to:"/profile"},l.a.createElement(i.a,{label:"Profile",icon:l.a.createElement(m.a,{className:e.icon})})))}},154:function(e,t,a){"use strict";var n=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(34)),l=a(52),c=n(a(155));var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.makeStyles)(e,(0,r.default)({defaultTheme:c.default},t))};t.default=o},159:function(e,t,a){"use strict";a.r(t);var n=a(141),r=a(0),l=a.n(r),c=a(44),o=a(118),i=a(254),s=a(248),m=a(249),u=a(136),d=a(245),p=a(252),g=a(168),f=a.n(g),y=a(169),E=a.n(y),h=(a(142),a(143)),b=Object(o.a)(function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:10,outline:0},paper:{color:"black",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),borderRadius:6,width:"40%",display:"flex",alignItems:"center",justifyContent:"center",outline:0},textfield:{width:"80%"}}});function v(e){var t=b(),a=l.a.useState(!1),r=Object(n.a)(a,2),c=r[0],o=r[1],g=l.a.useState({body:""}),y=Object(n.a)(g,2),v=y[0],w=y[1],N=e.currentUser,k=e.postId,j=e.parentReplyHandler,x=e.replyCount,O=e.imageName,S=function(){o(!1)};return l.a.createElement("div",null,l.a.createElement(u.a,{type:"button",color:"primary",onClick:function(){o(!0)},className:"lock"},l.a.createElement("h2",null,x,l.a.createElement(f.a,{color:"primary",className:"icon-lock"}),l.a.createElement(E.a,{color:"primary",className:"icon-unlock"}))),l.a.createElement(i.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:c,onClose:S,closeAfterTransition:!0,BackdropComponent:s.a,BackdropProps:{timeout:500}},l.a.createElement(m.a,{in:c},l.a.createElement("div",{className:t.paper},l.a.createElement(d.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"center"},l.a.createElement("h2",{id:"transition-modal-title"},"Reply to User's Status"),l.a.createElement(p.a,{className:t.textfield,multiline:!0,onChange:function(e){w(e.target.value)},name:"body",id:"filled-basic",label:"What would you like to say?",variant:"filled",rows:4})),l.a.createElement(u.a,{type:"button",color:"primary",onClick:function(e){N&&O&&(h.a.replyToPost({body:v,handle:N,imageName:O,postId:k}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),S(),j("go"))}},"Reply")))))}var w=a(172),N=a.n(w),k=a(171),j=a.n(k);function x(e){return l.a.createElement("div",null,l.a.createElement(u.a,{onClick:e.handleDelete,className:"lock",color:"primary",style:{marginTop:"50px"}},l.a.createElement(j.a,{className:"icon-unlock"}),l.a.createElement(N.a,{className:"icon-lock"})))}var O=a(175),S=a.n(O),C=a(220),P=a(246),I=a(139),R=a(258),D=a(174),A=a.n(D),U=a(173),T=a.n(U),B=a(255),H=a(253),L=a(247);t.default=S()({card:{"& > *":{width:"55%"},padding:5,display:"flex",margin:"0 auto",marginBottom:8,marginTop:8},replyCard:{width:"50%",paddingLeft:"5%",paddingRight:"5%",textAlignLast:"start",marginTop:5},ul:{paddingInlineStart:"0px",listStyleType:"none",textAlign:"-webkit-center"},image:{borderRadius:"180px",maxHeight:"200px",maxWidth:"200px",objectFit:"cover"},content:{width:"-webkit-fill-available",minWidth:120,maxWidth:240,padding:0},button:{width:"7em",height:"5em",padding:"1em, 2em",overflow:"hidden"},typography:{padding:5,textDecoration:"none"}})(function(e){var t=e.imageName,a=e.otherUser,r=e.currentUser,o=e.classes,i=e.post,s=i.body,m=i.createdAt,p=i.image,g=i.handle,f=i.likeCount,y=i.id,E=i.replyCount,b=l.a.useState(),w=Object(n.a)(b,2),N=w[0],k=w[1],j=l.a.useState(),O=Object(n.a)(j,2),S=O[0],D=O[1],U=l.a.useState([]),M=Object(n.a)(U,2),F=M[0],W=M[1],Y=l.a.useState(!1),_=Object(n.a)(Y,2),z=_[0],J=_[1],q=l.a.useState(!1),G=Object(n.a)(q,2),K=G[0],Q=G[1],V=l.a.useRef(null),X=new Date(m),Z=X.getMonth()+"-"+X.getDate()+"-"+X.getFullYear();l.a.useEffect(function(){k(f),D(E)},[]),l.a.useEffect(function(){S>0&&h.a.getReplies(y).then(function(e){return W(e.data)}).catch(function(e){return console.log(e)})},[S]);var $=function(e,t){"clickaway"!==t&&J(!1)},ee=F.length>0?F.map(function(e){return l.a.createElement("li",{key:"".concat(e.id,":").concat(e.PostId)},l.a.createElement(C.a,{className:o.replyCard},l.a.createElement(d.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},l.a.createElement(d.a,{item:!0,xs:4,sm:4},l.a.createElement("img",{src:e.imageName,alt:e.handle,className:"replyAvatar"})),l.a.createElement(d.a,{item:!0,xs:8,sm:8},l.a.createElement(I.a,{className:o.typography,variant:"h6"},l.a.createElement("strong",null,e.handle)),l.a.createElement(I.a,{className:o.typography,variant:"body1"},l.a.createElement("strong",null,e.body)),l.a.createElement(I.a,{className:o.typography,variant:"body2",color:"textSecondary"},l.a.createElement("strong",null,new Date(e.createdAt).getMonth()+"-"+new Date(e.createdAt).getDate()+"-"+new Date(e.createdAt).getFullYear()))))))}):null;return l.a.createElement("li",{key:y},l.a.createElement(B.a,{open:z,autoHideDuration:6e3,onClose:$},l.a.createElement(function(e){return l.a.createElement(H.a,Object.assign({elevation:6,variant:"filled"},e))},{onClose:$,severity:"success"},"You've already liked this post")),l.a.createElement(C.a,{className:o.card,raised:!0},l.a.createElement(d.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},a?l.a.createElement(R.a,{alt:p,src:"../"+p,className:o.avatar,key:p}):l.a.createElement(R.a,{alt:p,src:p,className:o.avatar,key:p})),l.a.createElement(d.a,{container:!0,direction:"column",justify:"space-around",alignItems:"stretch"},l.a.createElement(P.a,{className:o.content},l.a.createElement(c.b,{to:"/user/"+g,className:o.typography},l.a.createElement(I.a,{variant:"h5",color:"textPrimary"},l.a.createElement("strong",{id:"one-point-one-rem"},g))),l.a.createElement(I.a,{className:o.typography,variant:"body1"},l.a.createElement("strong",null,s)),l.a.createElement(I.a,{className:o.typography,variant:"body2",color:"textSecondary"},l.a.createElement("strong",null,Z)),F.length>0?l.a.createElement(u.a,{type:"button",onClick:function(){Q(!K)},color:"primary"},K?"Hide Replies":"Show Replies"):null)),l.a.createElement(d.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},"/profile"===window.location.pathname?l.a.createElement(x,{handleDelete:function(){h.a.removePost(y).then(function(e){alert("Post Deleted"),console.log(e)}).catch(function(e){console.log(e),alert("error deleting post")})}}):l.a.createElement("p",null),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.persist();var t=e.target.id;h.a.likePost(t,r).then(function(e){if(e.data.error)J(!0);else{var t=N;k(t+=1)}}).catch(function(e){console.log(e),alert("error liking post",e)})},id:y,key:y},l.a.createElement(u.a,{type:"submit",className:o.button+" lock",color:"primary",key:y},l.a.createElement("h2",null,N),l.a.createElement(T.a,{color:"primary",className:"icon-lock"}),l.a.createElement(A.a,{color:"primary",className:"icon-unlock"}))),l.a.createElement(v,{currentUser:r,postId:y,parentReplyHandler:function(){var e=S;D(e+=1)},replyCount:S,replies:F,imageName:t}))),K?l.a.createElement(L.a,{container:V.current},l.a.createElement("ul",{className:o.ul},ee)):null,l.a.createElement("div",{className:o.alert,ref:V}))})},167:function(e,t,a){"use strict";var n=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),l=(0,n(a(145)).default)(r.default.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn");t.default=l},256:function(e,t,a){"use strict";a.r(t);var n=a(141),r=a(0),l=a.n(r),c=a(153),o=a(16),i=a(35),s=a(220),m=a(246),u=a(139),d=a(154),p=a.n(d),g=a(142),f=a.n(g),y=a(245),E=a(167),h=a.n(E),b=a(166),v=a.n(b),w=a(244),N=a(54),k=a(258),j=a(143),x=p()(function(e){return{card:{display:"center",marginBottom:10,marginTop:10,overflow:"hidden",padding:5},content:{padding:5},typography:{padding:20},largeIcon:{width:"40px",height:"40px"},bio:{marginLeft:"25px"}}}),O=function(){var e=x(),t=Object(o.b)(),a=t.user,c=t.isAuthenticated,d=t.isLoading,p=Object(r.useState)({}),g=Object(n.a)(p,2),E=g[0],b=g[1],O=Object(r.useState)({}),S=Object(n.a)(O,2),C=S[0],P=S[1];Object(r.useEffect)(function(){c&&(f.a.get("/api/image/"+a.email).then(function(e){return b({img:e.data.fileName})}).catch(function(e){return console.log(e)}),j.a.getUserByEmail(a.email).then(function(e){return P(e.data)}).catch(function(e){return console.log(e)}))},[c,d]);return d?l.a.createElement(i.a,null):c&&l.a.createElement(s.a,{raised:!0,className:e.card},l.a.createElement(y.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},l.a.createElement(y.a,{item:!0,sm:4,className:e.image,style:{textAlign:"-webkit-center"}},l.a.createElement(k.a,{className:e.image+" image",src:E.img,alt:a.name,style:{height:"200px",width:"200px"}})),l.a.createElement(y.a,{item:!0,sm:8},l.a.createElement(m.a,{className:e.content},function(){var t=Object(N.a)();return Object(w.a)(t.breakpoints.up("sm"))?l.a.createElement(u.a,{variant:"h3",color:"textPrimary"},l.a.createElement(v.a,{className:e.largeIcon,size:"large",color:"primary"}),C.handle):l.a.createElement(u.a,{variant:"h5",color:"textPrimary"},l.a.createElement(v.a,{color:"primary"}),C.handle)}(),l.a.createElement(u.a,{variant:"body1",color:"textSecondary"},l.a.createElement(h.a,{color:"primary"}),l.a.createElement("strong",null,C.location)),l.a.createElement(u.a,{variant:"h5",color:"textPrimary"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(u.a,{variant:"body1",className:e.bio},l.a.createElement("strong",null,C.bio))))))},S=a(159);t.default=function(){var e=Object(r.useState)({}),t=Object(n.a)(e,2),a=t[0],i=t[1],s=Object(o.b)(),m=s.user,u=s.isAuthenticated,d=s.isLoading;Object(r.useEffect)(function(){!d&&u&&j.a.getUsersPosts(m.email).then(function(e){return i({posts:e.data})}).catch(function(e){return console.log(e)})},[m,d]);var p=a.posts?a.posts.map(function(e){return l.a.createElement(S.default,{post:e})}):"No Posts Yet!";return l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{container:!0,spacing:0,direction:"row",justify:"space-between",alignItems:"flex-start"},l.a.createElement(y.a,{item:!0,sm:2}),l.a.createElement(y.a,{item:!0,sm:12},l.a.createElement(O,null)),l.a.createElement(y.a,{item:!0,sm:2})),l.a.createElement(y.a,{container:!0,spacing:0,direction:"row",justify:"space-between",alignItems:"flex-start"},l.a.createElement(y.a,{item:!0,sm:2}),l.a.createElement(y.a,{item:!0,sm:12},l.a.createElement("ul",{style:{listStyleType:"none",paddingInlineStart:"0px"}},p)),l.a.createElement(y.a,{item:!0,sm:2})),l.a.createElement(y.a,{container:!0,spacing:0,direction:"row",justify:"center",alignItems:"flex-end"},l.a.createElement(y.a,{item:!0,sm:6},l.a.createElement(c.a,null))))}}}]);
//# sourceMappingURL=10.9e829115.chunk.js.map