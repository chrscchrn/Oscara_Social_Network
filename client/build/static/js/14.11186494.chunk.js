(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{159:function(e,a,t){"use strict";t.r(a);var n=t(141),r=t(0),l=t.n(r),o=t(44),c=t(118),i=t(254),s=t(248),m=t(249),d=t(136),u=t(245),p=t(252),y=t(168),g=t.n(y),E=t(169),f=t.n(E),h=(t(142),t(143)),b=Object(c.a)(function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:10,outline:0},paper:{color:"black",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),borderRadius:6,width:"40%",display:"flex",alignItems:"center",justifyContent:"center",outline:0},textfield:{width:"80%"}}});function k(e){var a=b(),t=l.a.useState(!1),r=Object(n.a)(t,2),o=r[0],c=r[1],y=l.a.useState({body:""}),E=Object(n.a)(y,2),k=E[0],v=E[1],N=e.currentUser,w=e.postId,x=e.parentReplyHandler,C=e.replyCount,j=e.imageName,S=function(){c(!1)};return l.a.createElement("div",null,l.a.createElement(d.a,{type:"button",color:"primary",onClick:function(){c(!0)},className:"lock"},l.a.createElement("h2",null,C,l.a.createElement(g.a,{color:"primary",className:"icon-lock"}),l.a.createElement(f.a,{color:"primary",className:"icon-unlock"}))),l.a.createElement(i.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:a.modal,open:o,onClose:S,closeAfterTransition:!0,BackdropComponent:s.a,BackdropProps:{timeout:500}},l.a.createElement(m.a,{in:o},l.a.createElement("div",{className:a.paper},l.a.createElement(u.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"center"},l.a.createElement("h2",{id:"transition-modal-title"},"Reply to User's Status"),l.a.createElement(p.a,{className:a.textfield,multiline:!0,onChange:function(e){v(e.target.value)},name:"body",id:"filled-basic",label:"What would you like to say?",variant:"filled",rows:4})),l.a.createElement(d.a,{type:"button",color:"primary",onClick:function(e){N&&j&&(h.a.replyToPost({body:k,handle:N,imageName:j,postId:w}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),S(),x("go"))}},"Reply")))))}var v=t(172),N=t.n(v),w=t(171),x=t.n(w);function C(e){return l.a.createElement("div",null,l.a.createElement(d.a,{onClick:e.handleDelete,className:"lock",color:"primary",style:{marginTop:"50px"}},l.a.createElement(x.a,{className:"icon-unlock"}),l.a.createElement(N.a,{className:"icon-lock"})))}var j=t(175),S=t.n(j),D=t(220),I=t(246),R=t(139),O=t(258),A=t(174),P=t.n(A),T=t(173),H=t.n(T),U=t(255),W=t(253),B=t(247);a.default=S()({card:{"& > *":{width:"55%"},padding:5,display:"flex",margin:"0 auto",marginBottom:8,marginTop:8},replyCard:{width:"50%",paddingLeft:"5%",paddingRight:"5%",textAlignLast:"start",marginTop:5},ul:{paddingInlineStart:"0px",listStyleType:"none",textAlign:"-webkit-center"},image:{borderRadius:"180px",maxHeight:"200px",maxWidth:"200px",objectFit:"cover"},content:{width:"-webkit-fill-available",minWidth:120,maxWidth:240,padding:0},button:{width:"7em",height:"5em",padding:"1em, 2em",overflow:"hidden"},typography:{padding:5,textDecoration:"none"}})(function(e){var a=e.imageName,t=e.otherUser,r=e.currentUser,c=e.classes,i=e.post,s=i.body,m=i.createdAt,p=i.image,y=i.handle,g=i.likeCount,E=i.id,f=i.replyCount,b=l.a.useState(),v=Object(n.a)(b,2),N=v[0],w=v[1],x=l.a.useState(),j=Object(n.a)(x,2),S=j[0],A=j[1],T=l.a.useState([]),F=Object(n.a)(T,2),Y=F[0],J=F[1],L=l.a.useState(!1),M=Object(n.a)(L,2),q=M[0],z=M[1],G=l.a.useState(!1),K=Object(n.a)(G,2),Q=K[0],V=K[1],X=l.a.useRef(null),Z=new Date(m),$=Z.getMonth()+"-"+Z.getDate()+"-"+Z.getFullYear();l.a.useEffect(function(){w(g),A(f)},[]),l.a.useEffect(function(){S>0&&h.a.getReplies(E).then(function(e){return J(e.data)}).catch(function(e){return console.log(e)})},[S]);var _=function(e,a){"clickaway"!==a&&z(!1)},ee=Y.length>0?Y.map(function(e){return l.a.createElement("li",{key:"".concat(e.id,":").concat(e.PostId)},l.a.createElement(D.a,{className:c.replyCard},l.a.createElement(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},l.a.createElement(u.a,{item:!0,xs:4,sm:4},l.a.createElement("img",{src:e.imageName,alt:e.handle,className:"replyAvatar"})),l.a.createElement(u.a,{item:!0,xs:8,sm:8},l.a.createElement(R.a,{className:c.typography,variant:"h6"},l.a.createElement("strong",null,e.handle)),l.a.createElement(R.a,{className:c.typography,variant:"body1"},l.a.createElement("strong",null,e.body)),l.a.createElement(R.a,{className:c.typography,variant:"body2",color:"textSecondary"},l.a.createElement("strong",null,new Date(e.createdAt).getMonth()+"-"+new Date(e.createdAt).getDate()+"-"+new Date(e.createdAt).getFullYear()))))))}):null;return l.a.createElement("li",{key:E},l.a.createElement(U.a,{open:q,autoHideDuration:6e3,onClose:_},l.a.createElement(function(e){return l.a.createElement(W.a,Object.assign({elevation:6,variant:"filled"},e))},{onClose:_,severity:"success"},"You've already liked this post")),l.a.createElement(D.a,{className:c.card,raised:!0},l.a.createElement(u.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},t?l.a.createElement(O.a,{alt:p,src:"../"+p,className:c.avatar,key:p}):l.a.createElement(O.a,{alt:p,src:p,className:c.avatar,key:p})),l.a.createElement(u.a,{container:!0,direction:"column",justify:"space-around",alignItems:"stretch"},l.a.createElement(I.a,{className:c.content},l.a.createElement(o.b,{to:"/user/"+y,className:c.typography},l.a.createElement(R.a,{variant:"h5",color:"textPrimary"},l.a.createElement("strong",{id:"one-point-one-rem"},y))),l.a.createElement(R.a,{className:c.typography,variant:"body1"},l.a.createElement("strong",null,s)),l.a.createElement(R.a,{className:c.typography,variant:"body2",color:"textSecondary"},l.a.createElement("strong",null,$)),Y.length>0?l.a.createElement(d.a,{type:"button",onClick:function(){V(!Q)},color:"primary"},Q?"Hide Replies":"Show Replies"):null)),l.a.createElement(u.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},"/profile"===window.location.pathname?l.a.createElement(C,{handleDelete:function(){h.a.removePost(E).then(function(e){alert("Post Deleted"),console.log(e)}).catch(function(e){console.log(e),alert("error deleting post")})}}):l.a.createElement("p",null),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.persist();var a=e.target.id;h.a.likePost(a,r).then(function(e){if(e.data.error)z(!0);else{var a=N;w(a+=1)}}).catch(function(e){console.log(e),alert("error liking post",e)})},id:E,key:E},l.a.createElement(d.a,{type:"submit",className:c.button+" lock",color:"primary",key:E},l.a.createElement("h2",null,N),l.a.createElement(H.a,{color:"primary",className:"icon-lock"}),l.a.createElement(P.a,{color:"primary",className:"icon-unlock"}))),l.a.createElement(k,{currentUser:r,postId:E,parentReplyHandler:function(){var e=S;A(e+=1)},replyCount:S,replies:Y,imageName:a}))),Q?l.a.createElement(B.a,{container:X.current},l.a.createElement("ul",{className:c.ul},ee)):null,l.a.createElement("div",{className:c.alert,ref:X}))})}}]);
//# sourceMappingURL=14.11186494.chunk.js.map